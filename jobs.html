<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><title>Jobs — EGR Careers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/css/careers.css?v=1"/>
  <script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="/js/supabaseClient.js?v=1"></script>
  <script defer src="/js/careers.js?v=1"></script>
</head>
<body>
<header class="nav">
  <div class="container">
    <div class="brand">EGR Careers</div>
    <nav class="links">
      <a href="/jobs.html" aria-current="page">Jobs</a>
      <a href="/dashboard.html">My Applications</a>
      <a href="/hr.html">HR Portal</a>
      <div class="clock" id="clock">--:--</div>
      <button id="authBtn" class="btn">Sign In</button>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="hero-bg" id="heroBg" aria-hidden="true"></div>
  <div class="container">
    <h1 class="title">Open Positions</h1>
    <p class="sub">Filter and find your next role.</p>
  </div>
</section>

<main class="container grid two" style="margin-top:18px">
  <div class="card">
    <div class="row" style="justify-content:space-between;align-items:center">
      <input id="q" placeholder="Search title / division" style="min-width:220px">
      <div class="row">
        <select id="fDept"><option value="">All Departments</option></select>
        <select id="fPaid"><option value="">Paid & Unpaid</option><option value="true">Paid</option><option value="false">Unpaid</option></select>
      </div>
    </div>
    <div id="jobsList" class="list" style="margin-top:12px"><p class="meta">Loading…</p></div>
  </div>
  <aside class="card">
    <h3>Divisions</h3>
    <p class="meta">Emirates Airlines · Fly Dubai · EGR HQ · University · Falcon LTD</p>
  </aside>
</main>

<footer class="footer">
  <div class="container">
    <div>© 2025 EGR</div>
    <div class="links"><a href="/">Home</a></div>
  </div>
</footer>

<!-- AUTH MODAL -->
<dialog id="authModal" class="modal">
  <form method="dialog" class="card" id="loginForm">
    <h3>Sign in / Create account</h3>
    <input type="email" id="authEmail" placeholder="Email address" required>
    <input type="password" id="authPass" placeholder="Password" required>
    <div class="row">
      <button class="btn" type="submit">Sign In</button>
      <button class="btn ghost" id="signupBtn">Create Account</button>
      <button class="btn red" id="closeAuth">Close</button>
    </div>
  </form>
</dialog>
<div id="toast"></div>
<script>
  document.addEventListener('DOMContentLoaded', async ()=>{
    await CAREERS.bootCommon();
    CAREERS.pageJobs();
  });
</script>
</body>
</html>
