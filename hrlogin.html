<!doctype html>
<html lang="en-GB">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HR Login — Emirates Group Roblox</title>
<style>
body{margin:0;font-family:Inter,Arial;background:linear-gradient(180deg,#031018,#04121a);color:#e8f1f8}
.header{padding:12px}
.header a{color:#e8f1f8;text-decoration:none;font-weight:700}
.container{max-width:620px;margin:80px auto;padding:20px}
.card{background:rgba(255,255,255,0.03);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
.input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e8f1f8;margin-top:10px}
.btn{background:#c8102e;color:white;padding:10px 12px;border:0;border-radius:8px;margin-top:12px;cursor:pointer}
.note{color:#9aa4b2;font-size:13px;margin-top:10px}
</style>
</head>
<body>
  <header class="header"><a href="index.html">← Home</a></header>
  <main class="container">
    <div class="card">
      <h2 style="margin:0">HR Sign in</h2>
      <p class="note">Your credentials are confidential under the Emirates Group Roblox Staff Sensitive Security Agreement. Do not share the passcode or login details under any circumstances.</p>

      <label style="display:block;margin-top:12px">Email</label>
      <input id="email" class="input" type="email" placeholder="you@emiratesgrouproblox.link">

      <label style="display:block;margin-top:8px">Password</label>
      <input id="password" class="input" type="password" placeholder="Enter password">

      <button id="signin" class="btn">Sign in</button>
      <div id="msg" class="note"></div>

      <p class="note" style="margin-top:12px">If you do not have HR access, contact the CHRO on the staff Discord channel.</p>
    </div>
  </main>

<script>
const API_URL = 'https://script.google.com/macros/s/AKfycbzgsKI-ob7TGzjl_pDecy5Pt0rVpppFKlk6E_mIuHfWoIETeqMkwPXfTdgqEcmXmldJBQ/exec';

document.getElementById('signin').addEventListener('click', async ()=>{
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  if(!email || !password){ document.getElementById('msg').textContent = 'Please enter email and password.'; return; }
  document.getElementById('msg').textContent = 'Signing in…';
  try{
    const res = await fetch(API_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ action:'hrLogin', email, password })});
    const j = await res.json();
    if(j && j.ok){ document.getElementById('msg').textContent = 'Sign in successful — redirecting…'; window.location.href = 'hr-dashboard.html'; }
    else { document.getElementById('msg').textContent = 'Sign in failed: ' + (j && j.error? j.error:'invalid credentials'); }
  }catch(e){ document.getElementById('msg').textContent = 'Network error'; }
});
</script>
</body>
</html>
